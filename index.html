<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Robo Clicker</title>
<meta name="description" content="Robo Clicker â€“ casual cartoony idle clicker game" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<script src="https://sdk.crazygames.com/crazygames-sdk-v3.js"></script>

<style>
:root {
  --bg1:#5a7a9a;
  --bg2:#7a9aba;
  --bg3:#9abbcc;
  --panel:#7a9aba;
  --accent:#ffd54f;
  --accent2:#ff9f1c;
  --accent3:#64b5f6;
  --outline:#3a5a7a;
  --success:#4caf50;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: 'Segoe UI', system-ui, sans-serif;
  background: linear-gradient(135deg, #6a8aaa 0%, #8aaaca 50%, #5a7a9a 100%);
  color: #fff;
  overflow: hidden;
  height: 100vh;
  font-weight: 500;
}

/* ANIMATIONS */
@keyframes float { 0%, 100% { transform: translateY(-8px); } 50% { transform: translateY(0); } }
@keyframes glow { 0%, 100% { filter: drop-shadow(0 0 4px rgba(255,213,79,0.3)); } 50% { filter: drop-shadow(0 0 12px rgba(255,213,79,0.6)); } }
@keyframes pop { 0% { transform: scale(0.5) rotate(-10deg); opacity: 1; } 100% { transform: scale(1.3) rotate(5deg); opacity: 0; } }
@keyframes slideIn { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.08); } }
@keyframes shake { 0%, 100% { transform: translate(0, 0) rotate(0deg); } 25% { transform: translate(-3px, -3px) rotate(-0.5deg); } 75% { transform: translate(3px, 3px) rotate(0.5deg); } }
@keyframes coinFloat { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-80px) scale(0); opacity: 0; } }
@keyframes fadeInScale { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
@keyframes ripple { 0% { transform: scale(0); opacity: 0.8; } 100% { transform: scale(2.5); opacity: 0; } }
@keyframes clickExplode { 0% { transform: scale(1) rotate(0deg); opacity: 1; } 100% { transform: scale(1.8) rotate(180deg); opacity: 0; } }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes wiggle { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(-3deg); } 75% { transform: rotate(3deg); } }
@keyframes heartbeat { 0%, 100% { transform: scale(1); } 25% { transform: scale(1.2); } 50% { transform: scale(1); } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
@keyframes scaleUp { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
@keyframes glow { 0%, 100% { filter: drop-shadow(0 0 8px rgba(255,213,79,0.4)); } 50% { filter: drop-shadow(0 0 16px rgba(255,213,79,0.8)); } }

/* TOP BAR */
header {
  position: absolute;
  top: 12px;
  left: 12px;
  right: 12px;
  height: 90px;
  background: linear-gradient(135deg, #7a9aba 0%, #8aaaca 100%);
  border-radius: 20px;
  border: 3px solid rgba(255, 213, 79, 0.4);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15), inset 0 2px 6px rgba(255, 255, 255, 0.25);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 36px;
  z-index: 100;
  backdrop-filter: blur(8px);
}

h1 {
  font-size: 36px;
  font-weight: 900;
  letter-spacing: 3px;
  margin: 0;
  background: linear-gradient(135deg, #ffd54f, #ff9f1c, #ff6b6b);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 
    0 2px 0 rgba(0, 0, 0, 0.3),
    0 0 20px rgba(255, 213, 79, 0.4);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  animation: float 3s ease-in-out infinite, pulse-glow 2s ease-in-out infinite;
}

@keyframes pulse-glow {
  0%, 100% { text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 213, 79, 0.4); }
  50% { text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 213, 79, 0.6); }
}

.top-right {
  display: flex;
  align-items: center;
  gap: 12px;
}

#bots, .currency {
  font-size: 56px;
  font-weight: 900;
  background: linear-gradient(135deg, #ff6b6b, #ff9f1c, #ffd54f);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 2px;
  text-shadow: 
    0 2px 0 rgba(0, 0, 0, 0.2),
    0 0 30px rgba(255, 159, 28, 0.5);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.15));
  animation: pulse 1.5s ease-in-out infinite, counterGlow 2s ease-in-out infinite;
  min-width: 200px;
}

@keyframes counterGlow {
  0%, 100% { text-shadow: 0 2px 0 rgba(0, 0, 0, 0.2), 0 0 30px rgba(255, 159, 28, 0.5); }
  50% { text-shadow: 0 2px 0 rgba(0, 0, 0, 0.2), 0 0 50px rgba(255, 159, 28, 0.9); }
}

/* ICON BUTTONS */
.icon-btn {
  width: 56px;
  height: 56px;
  border-radius: 14px;
  background: linear-gradient(135deg, #8aaaca, #9abbcc);
  border: 2px solid rgba(255, 213, 79, 0.5);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), inset 0 1px 3px rgba(255, 255, 255, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  font-size: 24px;
  position: relative;
  overflow: hidden;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.15));
}

.icon-btn::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255, 213, 79, 0.4) 0%, transparent 70%);
  transform: scale(0);
  pointer-events: none;
  transition: transform 0.4s ease-out;
}

.icon-btn:hover {
  transform: translateY(-4px) scale(1.1);
  box-shadow: 0 8px 20px rgba(255, 213, 79, 0.35), inset 0 1px 3px rgba(255, 255, 255, 0.4);
  border-color: rgba(255, 213, 79, 0.8);
  background: linear-gradient(135deg, #9abbcc, #aaccdd);
  animation: bounce 0.6s ease-in-out;
}

.icon-btn:hover::before {
  transform: scale(2);
}

.icon-btn:active {
  transform: translateY(-2px) scale(0.96);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
}

.icon-btn svg {
  width: 28px;
  height: 28px;
  fill: #ffd54f;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

/* CENTER CLICKER - ROBOT */
#robot {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  height: 300px;
  background: radial-gradient(circle at 30% 20%, #87ceeb 0%, #4fb3ff 30%, #0066cc 80%, #004499 100%);
  border-radius: 50%;
  border: 12px solid rgba(0, 0, 0, 0.3);
  box-shadow: 
    0 20px 50px rgba(0, 0, 0, 0.4),
    inset -12px -12px 36px rgba(0, 0, 0, 0.3),
    inset 12px 12px 36px rgba(255, 255, 255, 0.2),
    0 0 50px rgba(100, 181, 246, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.12s ease-out;
  animation: float 4s ease-in-out infinite, robotPulse 2s ease-in-out infinite;
  position: relative;
  overflow: visible;
  filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.35));
}

@keyframes robotClick {
  0% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(0.92); }
  100% { transform: translate(-50%, -50%) scale(1); }
}

#robot::before {
  content: "";
  position: absolute;
  inset: 15%;
  background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
  border-radius: 50%;
  pointer-events: none;
}

#robot .click-ring {
  position: absolute;
  width: 100%;
  height: 100%;
  border: 3px solid rgba(255, 213, 79, 0.6);
  border-radius: 50%;
  pointer-events: none;
}

#robot:hover {
  transform: translate(-50%, -50%) scale(1.15);
  box-shadow: 0 28px 60px rgba(76, 175, 255, 0.5), inset -12px -12px 36px rgba(0, 0, 0, 0.3), inset 12px 12px 36px rgba(255, 255, 255, 0.3);
  animation: float 4s ease-in-out infinite, wiggle 0.3s ease-in-out infinite;
}

#robot:active {
  transform: translate(-50%, -50%) scale(0.95);
}

#robot::after {
  content: "";
  position: absolute;
  bottom: -40px;
  width: 320px;
  height: 50px;
  background: radial-gradient(ellipse, rgba(0, 0, 0, 0.5) 0%, transparent 70%);
  filter: blur(16px);
  pointer-events: none;
}

/* GAME CONTAINER */
.game {
  position: absolute;
  inset: 96px 12px 12px 12px;
  display: flex;
  gap: 12px;
}

.factory {
  flex: 1;
  background: linear-gradient(135deg, rgba(122, 154, 170, 0.5), rgba(154, 186, 202, 0.5));
  border-radius: 18px;
  border: 3px solid rgba(255, 213, 79, 0.2);
  backdrop-filter: blur(8px);
  overflow: hidden;
  position: relative;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.factory h2 {
  position: absolute;
  top: 16px;
  left: 16px;
  font-size: 28px;
  margin: 0;
  font-weight: 900;
  background: linear-gradient(135deg, #ffd54f, #ff9f1c);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 1.5px;
  text-shadow: 
    0 1px 0 rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.3);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

/* PANELS */
.panel {
  background: linear-gradient(135deg, #7a9aba 0%, #8aaaca 100%);
  border-radius: 18px;
  border: 2px solid rgba(255, 213, 79, 0.3);
  padding: 20px;
  margin-bottom: 14px;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12), inset 0 1px 3px rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(8px);
  animation: slideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  transition: all 0.3s ease;
}

.panel h3 {
  font-size: 18px;
  margin: 0 0 14px 0;
  font-weight: 900;
  background: linear-gradient(135deg, #ffd54f, #ff9f1c, #ff6b6b);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 2px;
  text-transform: uppercase;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

/* UPGRADE BUTTONS */
.upgrade {
  background: linear-gradient(135deg, #6a8aaa 0%, #5a7a9a 100%);
  border: 2px solid rgba(255, 213, 79, 0.35);
  border-radius: 16px;
  padding: 16px 18px;
  margin-bottom: 14px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), inset 0 1px 2px rgba(255, 255, 255, 0.15);
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  color: #fff;
  font-size: 15px;
  font-weight: 700;
  letter-spacing: 0.8px;
  line-height: 1.5;
  position: relative;
  overflow: hidden;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}

.upgrade::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.5s;
}

.upgrade:hover::before {
  left: 100%;
}

.upgrade:hover {
  transform: translateY(-6px) scale(1.05);
  border-color: rgba(255, 213, 79, 0.7);
  box-shadow: 0 10px 24px rgba(255, 213, 79, 0.25), inset 0 1px 2px rgba(255, 255, 255, 0.2);
  background: linear-gradient(135deg, #7a9aba 0%, #6a8aaa 100%);
  animation: bounce 0.5s ease-in-out;
}

.upgrade:active {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 213, 79, 0.15);
}

.upgrade span {
  color: #64b5f6;
  font-weight: 900;
  background: linear-gradient(135deg, #64b5f6, #42a5f5);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* RIGHT SIDEBAR */
.game > div:last-child {
  width: 320px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
  padding-right: 4px;
}

.game > div:last-child::-webkit-scrollbar {
  width: 6px;
}

.game > div:last-child::-webkit-scrollbar-track {
  background: rgba(255, 213, 79, 0.05);
  border-radius: 3px;
}

.game > div:last-child::-webkit-scrollbar-thumb {
  background: rgba(255, 213, 79, 0.2);
  border-radius: 3px;
}

.game > div:last-child::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 213, 79, 0.4);
}

/* MODAL */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 200;
  backdrop-filter: blur(4px);
  animation: fadeInScale 0.3s ease-out;
}

.modal-box {
  background: linear-gradient(135deg, #7a9aba 0%, #8aaaca 100%);
  border: 3px solid rgba(255, 213, 79, 0.4);
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.25);
  max-width: 480px;
  text-align: center;
  animation: slideIn 0.3s ease-out;
}

.modal-box h3 {
  font-size: 28px;
  margin: 0 0 18px 0;
  font-weight: 900;
  background: linear-gradient(135deg, #ffd54f, #ff9f1c, #ff6b6b);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 2px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

#achList, #dailyText, #offlineText {
  font-size: 16px;
  line-height: 2;
  color: #e8e8e8;
  margin: 14px 0;
  font-weight: 600;
}

.modal-box button {
  background: linear-gradient(135deg, #ffd54f, #ff9f1c);
  border: none;
  color: #1a1a1a;
  padding: 14px 32px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 900;
  cursor: pointer;
  box-shadow: 0 8px 20px rgba(255, 213, 79, 0.4);
  transition: all 0.3s;
  letter-spacing: 1px;
}

.modal-box button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 213, 79, 0.5);
}

.modal-box button:active {
  transform: translateY(0);
}

/* SETTINGS */
#setModal label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 14px;
}

#setModal input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: #ffd54f;
}

/* COINS & EFFECTS */
.coin {
  position: fixed;
  width: 16px;
  height: 16px;
  background: radial-gradient(circle at 30% 30%, #ffed4e, #ffd54f);
  border-radius: 50%;
  pointer-events: none;
  z-index: 999;
  box-shadow: 0 0 8px rgba(255, 213, 79, 0.8), inset -1px -1px 3px rgba(0, 0, 0, 0.3);
  animation: coinFloat 0.8s ease-out forwards;
}

.particle {
  position: fixed;
  pointer-events: none;
  z-index: 998;
}

.particle.spark {
  width: 4px;
  height: 4px;
  background: #ffd54f;
  border-radius: 50%;
  box-shadow: 0 0 4px #ff9f1c;
  animation: sparkFly 0.6s ease-out forwards;
}

@keyframes sparkFly {
  0% { opacity: 1; }
  100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0); }
}

/* TOAST NOTIFICATIONS */
.toast {
  position: fixed;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  background: linear-gradient(135deg, #4a5a6a, #5a6a7a);
  color: #ffd54f;
  padding: 18px 32px;
  border-radius: 16px;
  border: 2px solid rgba(255, 213, 79, 0.7);
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4), 0 0 28px rgba(255, 213, 79, 0.35);
  opacity: 0;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 999;
  font-weight: 800;
  letter-spacing: 1px;
  font-size: 16px;
}

.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* MILESTONE CELEBRATION */
.milestone {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 72px;
  font-weight: 900;
  color: #ffd54f;
  text-shadow: 
    0 4px 0 rgba(0, 0, 0, 0.7),
    0 8px 16px rgba(255, 213, 79, 0.6),
    0 0 40px rgba(255, 159, 28, 0.8);
  z-index: 998;
  pointer-events: none;
  animation: pop 1.2s cubic-bezier(0.34,1.56,0.64,1) forwards;
  letter-spacing: 3px;
  filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.7));
}

/* SCROLLBAR STYLING */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 213, 79, 0.05);
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 213, 79, 0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 213, 79, 0.5);
}

/* RARITY COLORS */
.upgrade.common {
  border-color: rgba(255, 213, 79, 0.3);
}

.upgrade.common:hover {
  border-color: rgba(255, 213, 79, 0.7);
  background: linear-gradient(135deg, #7a9aba, #6a8aaa);
}

.upgrade.rare {
  border-color: rgba(100, 181, 246, 0.4);
}

.upgrade.rare:hover {
  border-color: rgba(100, 181, 246, 0.8);
  background: linear-gradient(135deg, #5a7a9a, #4a6a8a);
  box-shadow: 0 10px 24px rgba(100, 181, 246, 0.25), inset 0 1px 2px rgba(255, 255, 255, 0.2);
}

.upgrade.epic {
  border-color: rgba(255, 107, 107, 0.4);
}

.upgrade.epic:hover {
  border-color: rgba(255, 107, 107, 0.8);
  background: linear-gradient(135deg, #8a6a6a, #7a5a5a);
  box-shadow: 0 10px 24px rgba(255, 107, 107, 0.25), inset 0 1px 2px rgba(255, 255, 255, 0.2);
}
</style>
</head>
<body>
<header>
<h1>Robo Clicker</h1>
<div class="top-right">
<div class="icon-btn" onclick="openDaily()" title="Daily Reward">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <rect x="3" y="4" width="18" height="18" rx="2"/>
    <path d="M16 2v4M8 2v4M3 10h18"/>
  </svg>
</div>
<div class="icon-btn" onclick="openLeaderboard()" title="Leaderboard">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <rect x="3" y="12" width="4" height="8" rx="1"/>
    <rect x="10" y="6" width="4" height="14" rx="1"/>
    <rect x="17" y="9" width="4" height="11" rx="1"/>
  </svg>
</div>
<div class="icon-btn" onclick="openSettings()" title="Settings">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <circle cx="12" cy="12" r="3"/>
    <path d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M4.22 19.78l4.24-4.24m4.24-4.24l4.24-4.24"/>
  </svg>
</div>
<div class="currency">
  <span id="bots">0</span>
</div>
</div>
</header>

<div class="game">
<div class="factory" id="factory">
<h2>Factory</h2>
<div id="robot">
  <div class="robot-core"></div>
</div>
</div>

<div>
<div class="panel" style="padding: 0; overflow: hidden; flex: 1; display: flex; flex-direction: column;">
<h3 style="padding: 20px 20px 12px 20px; margin: 0;">Upgrades</h3>
<div style="overflow-y: auto; padding: 0 12px 12px 12px; flex: 1;">
<div class="upgrade" onclick="buyClick()">
  <span class="upgrade-name">Stronger Click</span>
  <span class="upgrade-cost"><span id="clickCost">10</span></span>
</div>
<div class="upgrade" onclick="buyAuto()">
  <span class="upgrade-name">Auto Builder</span>
  <span class="upgrade-cost"><span id="autoCost">50</span></span>
</div>
<div class="upgrade" onclick="buyMega()">
  <span class="upgrade-name">Mega Click</span>
  <span class="upgrade-cost"><span id="megaCost">250</span></span>
</div>
<div class="upgrade" onclick="buyBot()">
  <span class="upgrade-name">Bot Assistant</span>
  <span class="upgrade-cost"><span id="botCost">100</span></span>
</div>
<div class="upgrade" onclick="buyMultiplier()">
  <span class="upgrade-name">Click Multiplier</span>
  <span class="upgrade-cost"><span id="multiplierCost">500</span></span>
</div>
<div class="upgrade" onclick="buySuper()">
  <span class="upgrade-name">Super Bot</span>
  <span class="upgrade-cost"><span id="superCost">1000</span></span>
</div>
<div class="upgrade" onclick="buyFactory()">
  <span class="upgrade-name">Factory Upgrade</span>
  <span class="upgrade-cost"><span id="factoryCost">200</span></span>
</div>
<div class="upgrade" onclick="buyMomentum()">
  <span class="upgrade-name">Momentum Boost</span>
  <span class="upgrade-cost"><span id="momentumCost">750</span></span>
</div>
<div class="upgrade" onclick="buyLegendary()">
  <span class="upgrade-name">Legendary Power</span>
  <span class="upgrade-cost"><span id="legendaryCost">2500</span></span>
</div>
</div>
</div>

<div class="panel upgrade rebirth-btn" onclick="doRebirth()" style="margin-top: 12px;">
  <span class="upgrade-name">Rebirth</span>
  <span class="upgrade-cost">1K+</span>
  <span class="rebirth-subtitle">Restart with bonuses</span>
</div>
</div>
</div>

<!-- DAILY MODAL -->
<div class="modal" id="dailyModal">
  <div class="modal-box" style="max-width: 520px;">
    <h3>Daily Reward</h3>
    <div id="dailyText" style="font-size: 18px; margin: 30px 0; min-height: 100px; display: flex; flex-direction: column; justify-content: center;"></div>
    <div style="margin: 20px 0; padding: 20px; background: rgba(0,212,255,0.1); border-radius: 12px; border-left: 4px solid var(--accent-primary);">
      <div style="font-size: 14px; color: var(--text-secondary);">Next daily reward in:</div>
      <div id="dailyTimer" style="font-size: 20px; font-weight: 900; color: var(--accent-primary); margin-top: 8px;">23:59:59</div>
    </div>
    <button onclick="claimDaily()">Claim Reward</button>
  </div>
</div>

<!-- SETTINGS MODAL -->
<div class="modal" id="setModal">
  <div class="modal-box" style="max-width: 540px;">
    <h3>Settings</h3>
    <div style="margin: 40px 0; text-align: left;">
      <div style="margin-bottom: 40px;">
        <div style="font-size: 18px; font-weight: 700; margin-bottom: 20px; color: var(--accent-primary);">Sound & Music</div>
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding: 12px; background: rgba(0,212,255,0.1); border-radius: 10px;">
          <label style="font-size: 16px; margin: 0; cursor: pointer; color: var(--text-primary);">Sound Effects</label>
          <input type="checkbox" id="soundToggle" checked>
        </div>
        <div style="margin: 20px 0;">
          <label style="font-size: 14px; color: var(--text-secondary); display: block; margin-bottom: 8px;">Sound Volume: <span id="soundVolumeDisplay">100</span>%</label>
          <input type="range" id="soundVolume" min="0" max="100" value="100">
        </div>
      </div>
      <div style="margin-bottom: 30px;">
        <div style="font-size: 18px; font-weight: 700; margin-bottom: 20px; color: var(--accent-secondary);">Music</div>
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding: 12px; background: rgba(99,102,241,0.1); border-radius: 10px;">
          <label style="font-size: 16px; margin: 0; cursor: pointer; color: var(--text-primary);">Background Music</label>
          <input type="checkbox" id="musicToggle" checked>
        </div>
        <div style="margin: 20px 0;">
          <label style="font-size: 14px; color: var(--text-secondary); display: block; margin-bottom: 8px;">Music Volume: <span id="musicVolumeDisplay">100</span>%</label>
          <input type="range" id="musicVolume" min="0" max="100" value="100">
        </div>
      </div>
    </div>
    <button onclick="closeModals()" style="width: 100%;">Close Settings</button>
  </div>
</div>

<!-- OFFLINE MODAL -->
<div class="modal" id="offlineModal">
  <div class="modal-box" style="max-width: 520px;">
    <h3>Welcome Back!</h3>
    <div id="offlineText" style="font-size: 18px; margin: 30px 0; min-height: 80px; display: flex; align-items: center; justify-content: center;"></div>
    <button onclick="closeModals()">Continue</button>
  </div>
</div>

<script>
const cg=window.CrazyGamesSDK; if(cg) cg.init();
let bots=0,perClick=1,autoBots=0,megaClick=0,clickCost=10,autoCost=50,megaCost=250,rebirths=0;
let botLevel=0,botCost=100,multiplier=1,multiplierCost=500,superLevel=0,superCost=1000;
let factoryLevel=0,factoryCost=200,momentumLevel=0,momentumCost=750,legendaryLevel=0,legendaryCost=2500;
let milestone=1,dailyStreak=0,lastDailyClaimTime=0;
let sound=true,music=true,soundVolume=1,musicVolume=1;

const clickSound=new Audio('https://assets.mixkit.co/sfx/preview/mixkit-soft-click-1124.mp3');clickSound.volume=.4;
const el=i=>document.getElementById(i);

function updateUI(){
 el('bots').textContent=Math.floor(bots).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
 el('clickCost').textContent=clickCost;
 el('autoCost').textContent=autoCost;
 el('megaCost').textContent=megaCost;
 el('botCost').textContent=botCost;
 el('multiplierCost').textContent=multiplierCost;
 el('superCost').textContent=superCost;
 el('factoryCost').textContent=factoryCost;
 el('momentumCost').textContent=momentumCost;
 el('legendaryCost').textContent=legendaryCost;
 el('milestone').textContent=milestone;
 save();
}

robot.onclick=e=>{
 bots+=perClick+megaClick;
 burst(e.clientX,e.clientY);
 createClickRing(e.clientX,e.clientY);
 createSparks(e.clientX,e.clientY);
 addButtonPulse(robot);
 robot.style.animation='robotClick 0.4s ease-out';
 setTimeout(()=>robot.style.animation='float 4s ease-in-out infinite, robotPulse 2s ease-in-out infinite',400);
 if(sound){clickSound.currentTime=0;clickSound.play()}
 updateUI();
}

function buyClick(){if(bots>=clickCost){bots-=clickCost;perClick++;clickCost=Math.ceil(clickCost*1.6);createConfetti();showUpgradeToast('Stronger Click â¬†ï¸');updateUI()}}
function buyAuto(){if(bots>=autoCost){bots-=autoCost;autoBots++;autoCost=Math.ceil(autoCost*2);createConfetti();showUpgradeToast('Auto Builder ðŸ¤–');updateUI()}}
function buyMega(){if(bots>=megaCost){bots-=megaCost;megaClick+=5;megaCost=Math.ceil(megaCost*2.5);createConfetti();showUpgradeToast('Mega Click ðŸ’¥');updateUI()}}
function buyBot(){if(bots>=botCost){bots-=botCost;botLevel++;autoBots+=2;botCost=Math.ceil(botCost*2.2);createConfetti();showUpgradeToast('Bot Assistant ðŸ¦¾');updateUI()}}
function buyMultiplier(){if(bots>=multiplierCost){bots-=multiplierCost;multiplier+=0.5;perClick*=1.2;multiplierCost=Math.ceil(multiplierCost*2.8);createConfetti();showUpgradeToast('Click Multiplier 2ï¸âƒ£');updateUI()}}
function buySuper(){if(bots>=superCost){bots-=superCost;superLevel++;megaClick+=8;autoBots+=3;superCost=Math.ceil(superCost*3);createConfetti();showUpgradeToast('Super Bot â­');updateUI()}}
function buyFactory(){if(bots>=factoryCost){bots-=factoryCost;factoryLevel++;autoBots+=1;perClick+=0.5;factoryCost=Math.ceil(factoryCost*2.4);createConfetti();showUpgradeToast('Factory Upgrade ðŸ­');updateUI()}}
function buyMomentum(){if(bots>=momentumCost){bots-=momentumCost;momentumLevel++;megaClick+=10;multiplier+=0.8;momentumCost=Math.ceil(momentumCost*2.6);createConfetti();showUpgradeToast('Momentum Boost ðŸ’«');updateUI()}}
function buyLegendary(){if(bots>=legendaryCost){bots-=legendaryCost;legendaryLevel++;perClick*=1.5;autoBots*=1.3;megaClick*=1.4;legendaryCost=Math.ceil(legendaryCost*3.5);createExplosion();showUpgradeToast('Legendary Power ðŸ‘‘');updateUI()}}

function showUpgradeToast(text){
  const toast=document.createElement('div');
  toast.className='toast';
  toast.innerHTML=`<span style="font-size:16px;">${text}</span>`;
  document.body.appendChild(toast);
  setTimeout(()=>toast.classList.add('show'),10);
  setTimeout(()=>{toast.classList.remove('show');setTimeout(()=>toast.remove(),300)},2000);
}

function createConfetti(){
  for(let i=0;i<28;i++){
    const confetti=document.createElement('div');
    const color=['#ffd54f','#ff9f1c','#ff6b6b','#64b5f6'][Math.floor(Math.random()*4)];
    confetti.style.cssText=`position:fixed;width:${6+Math.random()*8}px;height:${6+Math.random()*8}px;background:${color};left:${Math.random()*window.innerWidth}px;top:0;border-radius:50%;pointer-events:none;z-index:997;box-shadow:0 0 ${4+Math.random()*6}px ${color};`;
    const duration=900+Math.random()*700;
    const angle=Math.random()*Math.PI*2;
    const dist=window.innerHeight+100;
    const dx=Math.cos(angle)*300;
    confetti.animate([{transform:'translateY(0) rotate(0deg) scale(1)',opacity:1},{transform:`translateY(${dist}px) rotate(${Math.random()*720}deg) scale(0)`,opacity:0}],{duration,easing:'cubic-bezier(0.25,0.46,0.45,0.94)'});
    document.body.appendChild(confetti);
    setTimeout(()=>confetti.remove(),duration);
  }
}

setInterval(()=>{bots+=autoBots;checkMilestones();updateUI()},1000);

function doRebirth(){if(bots>=1000){rebirths++;bots=0;perClick=1;autoBots=0;megaClick=0;createExplosion();showMilestonePopup('âš¡ REBIRTH! âš¡');updateUI()}}

function createExplosion(){
  for(let i=0;i<52;i++){
    const particle=document.createElement('div');
    const angle=Math.random()*Math.PI*2;
    const velocity=10+Math.random()*16;
    const dist=velocity*100;
    const tx=Math.cos(angle)*dist;
    const ty=Math.sin(angle)*dist;
    const color=['#ffd54f','#ff9f1c','#64b5f6','#4caf50','#ff6b6b'][Math.floor(Math.random()*5)];
    particle.style.cssText=`position:fixed;width:${8+Math.random()*8}px;height:${8+Math.random()*8}px;background:${color};left:50%;top:50%;border-radius:50%;pointer-events:none;z-index:997;box-shadow:0 0 ${8+Math.random()*12}px ${color};margin-left:-${4+Math.random()*4}px;margin-top:-${4+Math.random()*4}px;`;
    particle.animate([{transform:'translate(0,0) scale(1)',opacity:1,filter:'blur(0px)'},{transform:`translate(${tx}px,${ty}px) scale(0)`,opacity:0,filter:'blur(8px)'}],{duration:1100,easing:'cubic-bezier(0.2,0.8,0.2,1)'});
    document.body.appendChild(particle);
    setTimeout(()=>particle.remove(),1100);
  }
}

function burst(x,y){
  const counterEl=el('bots');
  const rect=counterEl.getBoundingClientRect();
  const targetX=rect.left+rect.width/2;
  const targetY=rect.top+rect.height/2;
  
  for(let i=0;i<28;i++){
    const c=document.createElement('div');
    c.className='coin';
    c.style.left=x+'px';
    c.style.top=y+'px';
    const angle=Math.random()*Math.PI*2;
    const initialVelocity=3+Math.random()*5;
    const initialDx=Math.cos(angle)*initialVelocity;
    const initialDy=Math.sin(angle)*initialVelocity;
    
    c.style.boxShadow=`0 0 12px rgba(255,213,79,1),inset -2px -2px 4px rgba(0,0,0,0.5)`;
    
    const frames=[
      {transform:'translate(0,0) scale(1)',opacity:1},
      {transform:`translate(${initialDx*60}px,${initialDy*60}px) scale(0.9)`,opacity:1,offset:0.4},
      {transform:`translate(${targetX-x}px,${targetY-y}px) scale(0)`,opacity:0}
    ];
    
    c.animate(frames,{duration:1200,easing:'cubic-bezier(0.3,0,0.7,1)'});
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),1200);
  }
}

function checkMilestones(){if(bots>1000&&milestone===1){milestone=2;el('robot').classList.add('big');showMilestonePopup('MILESTONE REACHED!')}}

// DAILY
function openDaily(){
  el('dailyModal').style.display='flex';
  const baseReward=500+dailyStreak*100;
  el('dailyText').innerHTML=`<div style="font-size:20px;margin:10px 0;font-weight:700;">Day ${dailyStreak+1}</div><div style="font-size:28px;margin:15px 0;font-weight:900;">ðŸ’° <span style="background:linear-gradient(135deg,#4caf50,#81c784);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;">${baseReward} Bots</span></div><div style="font-size:13px;color:#ccc;margin-top:15px;">Streak: <strong style="color:#ffd54f;">${dailyStreak}</strong> days</div>`;
}
function claimDaily(){
  const now=Date.now();
  if(lastDailyClaimTime && now-lastDailyClaimTime<86400000){showUpgradeToast('âŒ Already claimed today!');return}
  const baseReward=500+dailyStreak*100;
  bots+=baseReward;
  dailyStreak++;
  lastDailyClaimTime=now;
  showDailyToast(baseReward);
  closeModals();
  updateUI();
}

function showDailyToast(amount){
  const toast=document.createElement('div');
  toast.className='toast';
  toast.innerHTML=`âœ¨ Streak +1 | <span style="background:linear-gradient(135deg,#4caf50,#81c784);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:900;">+${amount} Bots</span>`;
  document.body.appendChild(toast);
  setTimeout(()=>toast.classList.add('show'),10);
  setTimeout(()=>{toast.classList.remove('show');setTimeout(()=>toast.remove(),300)},2700);
}

// MODALS
function openAchievements(){el('achModal').style.display='flex';}
function openSettings(){el('setModal').style.display='flex';el('soundToggle').checked=sound;el('musicToggle').checked=music;el('soundVolume').value=Math.round(soundVolume*100);el('musicVolume').value=Math.round(musicVolume*100);document.getElementById('soundVolumeDisplay').textContent=Math.round(soundVolume*100);document.getElementById('musicVolumeDisplay').textContent=Math.round(musicVolume*100);}
function openLeaderboard(){if(cg)cg.showLeaderboard({leaderboardID:'main'});else alert('ðŸ“Š Leaderboards coming soon!')}
function closeModals(){document.querySelectorAll('.modal').forEach(m=>m.style.display='none')}

// SAVE + OFFLINE
function save(){localStorage.setItem('save',JSON.stringify({bots,perClick,autoBots,megaClick,clickCost,autoCost,megaCost,botLevel,botCost,multiplier,multiplierCost,superLevel,superCost,factoryLevel,factoryCost,momentumLevel,momentumCost,legendaryLevel,legendaryCost,milestone,time:Date.now(),sound,music,soundVolume,musicVolume,dailyStreak,lastDailyClaimTime}))}
function load(){const d=JSON.parse(localStorage.getItem('save'));if(!d)return;Object.assign({bots,perClick,autoBots,megaClick,clickCost,autoCost,megaCost,botLevel,botCost,multiplier,multiplierCost,superLevel,superCost,factoryLevel,factoryCost,momentumLevel,momentumCost,legendaryLevel,legendaryCost,milestone,sound,music,soundVolume,musicVolume,dailyStreak,lastDailyClaimTime},d);const diff=Math.floor((Date.now()-d.time)/1000);const earned=diff*autoBots;if(earned>0){bots+=earned;el('offlineText').textContent=`You earned <span style="background:linear-gradient(135deg,#4caf50,#81c784);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:900;">${earned} Bots</span> while away!`;el('offlineModal').style.display='flex'}}
load();updateUI();

// REWARDED AD
function watchAd(){if(cg)cg.showRewardedAd({onReward:()=>{bots+=1000;updateUI()}})}

// ANIMATION ENHANCEMENTS
function showMilestonePopup(text){
  const popup=document.createElement('div');
  popup.className='milestone';
  popup.textContent=text;
  popup.style.animation='pop 1s cubic-bezier(0.34,1.56,0.64,1)';
  popup.style.fontSize='64px';
  popup.style.textShadow='0 4px 0 rgba(0,0,0,0.7),0 8px 16px rgba(255,213,79,0.6),0 0 40px rgba(255,159,28,0.8)';
  document.body.appendChild(popup);
  setTimeout(()=>{popup.style.animation='fadeOut 0.6s ease-in';setTimeout(()=>popup.remove(),600)},1600);
}

function addButtonPulse(el){
  el.style.animation='pulse 0.5s cubic-bezier(0.4,0,0.2,1)';
  setTimeout(()=>{el.style.animation=''},500);
}

function createClickRing(x,y){
  const ring=document.createElement('div');
  ring.style.cssText=`position:fixed;width:50px;height:50px;border:4px solid #ffd54f;border-radius:50%;left:${x-25}px;top:${y-25}px;pointer-events:none;z-index:998;box-shadow:0 0 16px rgba(255,213,79,0.8),inset 0 0 12px rgba(255,213,79,0.4);`;
  ring.animate([{transform:'scale(1)',opacity:1},{transform:'scale(3)',opacity:0}],{duration:700,easing:'cubic-bezier(0.2,0.8,0.2,1)'});
  document.body.appendChild(ring);
  setTimeout(()=>ring.remove(),700);
}

function createSparks(x,y){
  const sparkCount=20+Math.floor(Math.random()*8);
  for(let i=0;i<sparkCount;i++){
    const spark=document.createElement('div');
    spark.className='particle spark';
    const angle=Math.random()*Math.PI*2;
    const dist=60+Math.random()*100;
    const tx=Math.cos(angle)*dist;
    const ty=Math.sin(angle)*dist;
    spark.style.cssText=`left:${x}px;top:${y}px;--tx:${tx}px;--ty:${ty}px;width:8px;height:8px;background:#ffd54f;border-radius:50%;box-shadow:0 0 8px #ff9f1c;`;
    spark.animate([{opacity:1,transform:'scale(1) translate(0,0)'},{opacity:0,transform:`scale(0) translate(${tx}px,${ty}px)`}],{duration:750,easing:'cubic-bezier(0.2,0.8,0.2,1)'});
    document.body.appendChild(spark);
    setTimeout(()=>spark.remove(),750);
  }
}

// VOLUME CONTROLS
document.addEventListener('DOMContentLoaded',()=>{
  const soundToggle=document.getElementById('soundToggle');
  const musicToggle=document.getElementById('musicToggle');
  const soundVolSlider=document.getElementById('soundVolume');
  const musicVolSlider=document.getElementById('musicVolume');
  
  soundToggle.addEventListener('change',()=>{sound=soundToggle.checked;save()});
  musicToggle.addEventListener('change',()=>{music=musicToggle.checked;save()});
  soundVolSlider.addEventListener('input',()=>{soundVolume=soundVolSlider.value/100;clickSound.volume=soundVolume*0.4;document.getElementById('soundVolumeDisplay').textContent=soundVolSlider.value;save()});
  musicVolSlider.addEventListener('input',()=>{musicVolume=musicVolSlider.value/100;document.getElementById('musicVolumeDisplay').textContent=musicVolSlider.value;save()});
});
</script>
</body>
</html>


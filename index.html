<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Robo Clicker</title>
<meta name="description" content="Robo Clicker â€“ casual cartoony idle clicker game" />

<script src="https://sdk.crazygames.com/crazygames-sdk-v3.js"></script>

<style>
:root {
  --bg1:#1c1f26;
  --bg2:#2a2f3a;
  --panel:#242836;
  --panel-dark:#1a1d26;
  --accent:#ffd54f;
  --accent2:#ff9f1c;
  --outline:#0e1118;
}

body{
  margin:0;
  font-family:'Arial Rounded MT Bold', system-ui, sans-serif;
  background:radial-gradient(circle at top,#2e3342,#141620);
  color:#fff;
  overflow:hidden;
}

/* TOP BAR */
#topBar{
  position:absolute;top:12px;left:12px;right:12px;height:64px;
  background:linear-gradient(#2d3242,#1c1f29);
  border-radius:18px;
  border:4px solid var(--outline);
  box-shadow:0 8px 0 #000;
  display:flex;align-items:center;justify-content:space-between;
  padding:0 20px;
}

#title{font-size:26px;font-weight:900;letter-spacing:1px;}

#money{
  font-size:22px;
  background:linear-gradient(#ffd54f,#ffb300);
  color:#000;
  padding:10px 18px;
  border-radius:14px;
  border:3px solid #000;
  box-shadow:0 5px 0 #000;
}

/* ICON BUTTONS */
.icon-btn{
  width:44px;height:44px;
  border-radius:12px;
  background:linear-gradient(#3a4054,#262b3a);
  border:3px solid #000;
  box-shadow:0 4px 0 #000;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;
  transition:.12s;
}
.icon-btn:hover{transform:translateY(2px);box-shadow:0 2px 0 #000;}

.icon-btn svg{width:24px;height:24px;fill:#ffd54f;}

/* CENTER CLICKER */
#robot{
  position:absolute;left:50%;top:52%;transform:translate(-50%,-50%);
  width:220px;height:220px;
  background:radial-gradient(circle at top,#6cf,#148);
  border-radius:50%;
  border:6px solid #000;
  box-shadow:0 18px 0 #000;
  display:flex;align-items:center;justify-content:center;
}

#robot::after{
  content:"";
  position:absolute;bottom:-30px;width:260px;height:40px;
  background:rgba(0,0,0,.4);
  filter:blur(12px);
}

/* UPGRADES PANEL */
#upgrades{
  position:absolute;right:16px;top:96px;bottom:16px;width:300px;
  background:linear-gradient(#2a2f3a,#1b1f29);
  border-radius:22px;
  border:4px solid #000;
  box-shadow:0 10px 0 #000;
  padding:14px;
  overflow:hidden;
}

.upgrade{
  background:linear-gradient(#3a4154,#262b3a);
  border:3px solid #000;
  border-radius:16px;
  padding:12px;
  margin-bottom:12px;
  box-shadow:0 5px 0 #000;
  transition:.1s;
}
.upgrade:hover{transform:translateY(2px);box-shadow:0 3px 0 #000;}

/* DECORATIVE DETAILS */
.factory-bg{
  position:absolute;inset:0;
  background:
    repeating-linear-gradient(45deg,rgba(255,255,255,.03) 0 10px,transparent 10px 20px),
    radial-gradient(circle at bottom,#000 0%,transparent 60%);
  pointer-events:none;
}
</style>
</head>
<body>
<header>
<h1>Robo Clicker</h1>
<div class="top-right">
<div class="icon-btn" onclick="openDaily()"></div>
<div class="icon-btn" onclick="openAchievements()"></div>
<div class="icon-btn" onclick="openLeaderboard()"></div>
<div class="icon-btn" onclick="openSettings()"></div>
<div class="currency">Bots: <span id="bots">0</span></div>
</div>
</header>

<div class="game">
<div class="factory" id="factory">
<h2>Factory</h2>
<div class="robot" id="robot"></div>
</div>

<div>
<div class="panel">
<h3>Upgrades</h3>
<div class="upgrade common" onclick="buyClick()">Stronger Click<br>Cost: <span id="clickCost">10</span></div>
<div class="upgrade rare" onclick="buyAuto()">Auto Builder<br>Cost: <span id="autoCost">50</span></div>
<div class="upgrade epic" onclick="buyMega()">Mega Click<br>Cost: <span id="megaCost">250</span></div>
</div>

<div class="panel">
<h3>Progress</h3>
<div>Milestone: <span id="milestone">1</span></div>
<div>Achievements: <span id="achCount">0</span></div>
</div>

<div class="panel upgrade" onclick="doRebirth()">Rebirth<br><small>Requires 1,000 Bots</small></div>
</div>
</div>

<!-- DAILY -->
<div class="modal" id="dailyModal"><div class="modal-box"><h3>Daily Reward</h3><div id="dailyText"></div><br><button onclick="claimDaily()">Claim</button></div></div>
<!-- ACHIEVEMENTS -->
<div class="modal" id="achModal"><div class="modal-box"><h3>Achievements</h3><div id="achList"></div><br><button onclick="closeModals()">Close</button></div></div>
<!-- SETTINGS -->
<div class="modal" id="setModal"><div class="modal-box"><h3>Settings</h3><label><input type="checkbox" id="soundToggle" checked> Sound</label><br><br><button onclick="closeModals()">Close</button></div></div>
<!-- OFFLINE -->
<div class="modal" id="offlineModal"><div class="modal-box"><h3>Welcome Back</h3><div id="offlineText"></div><br><button onclick="closeModals()">Nice!</button></div></div>

<script>
const cg=window.CrazyGamesSDK; if(cg) cg.init();
let bots=0,perClick=1,autoBots=0,megaClick=0,clickCost=10,autoCost=50,megaCost=250,rebirths=0;
let milestone=1,achievements={click100:false,bots1k:false};
let sound=true;

const clickSound=new Audio('https://assets.mixkit.co/sfx/preview/mixkit-soft-click-1124.mp3');clickSound.volume=.4;
const el=i=>document.getElementById(i);

function updateUI(){
 el('bots').textContent=Math.floor(bots);
 el('clickCost').textContent=clickCost;
 el('autoCost').textContent=autoCost;
 el('megaCost').textContent=megaCost;
 el('milestone').textContent=milestone;
 el('achCount').textContent=Object.values(achievements).filter(v=>v).length;
 save();
}

robot.onclick=e=>{
 bots+=perClick+megaClick;
 burst(e.clientX,e.clientY);
 if(sound){clickSound.currentTime=0;clickSound.play()}
 checkAchievements();updateUI();
}

function buyClick(){if(bots>=clickCost){bots-=clickCost;perClick++;clickCost*=1.6;updateUI()}}
function buyAuto(){if(bots>=autoCost){bots-=autoCost;autoBots++;autoCost*=2;updateUI()}}
function buyMega(){if(bots>=megaCost){bots-=megaCost;megaClick+=5;megaCost*=2.5;updateUI()}}

setInterval(()=>{bots+=autoBots;checkMilestones();updateUI()},1000);

function doRebirth(){if(bots>=1000){rebirths++;bots=0;perClick=1;autoBots=0;megaClick=0;document.body.classList.add('shake');setTimeout(()=>document.body.classList.remove('shake'),400);updateUI()}}

function burst(x,y){for(let i=0;i<10;i++){const c=document.createElement('div');c.className='coin';c.style.left=x+'px';c.style.top=y+'px';c.style.setProperty('--x',(Math.random()*120-60)+'px');c.style.setProperty('--y',(Math.random()*-120)+'px');document.body.appendChild(c);setTimeout(()=>c.remove(),800)}}

function checkMilestones(){if(bots>1000&&milestone===1){milestone=2;el('robot').classList.add('big')}}
function checkAchievements(){if(bots>=1000)achievements.bots1k=true}

// DAILY
function openDaily(){el('dailyModal').style.display='flex';el('dailyText').textContent='Reward: +500 Bots'}
function claimDaily(){bots+=500;closeModals();updateUI()}

// MODALS
function openAchievements(){el('achModal').style.display='flex';el('achList').innerHTML=Object.entries(achievements).map(([k,v])=>`${k}: ${v?'Done':'?'}`).join('<br>')}
function openSettings(){el('setModal').style.display='flex'}
function openLeaderboard(){if(cg)cg.showLeaderboard({leaderboardID:'main'})}
function closeModals(){document.querySelectorAll('.modal').forEach(m=>m.style.display='none')}

// SAVE + OFFLINE
function save(){localStorage.setItem('save',JSON.stringify({bots,perClick,autoBots,megaClick,clickCost,autoCost,megaCost,milestone,achievements,time:Date.now()}))}
function load(){const d=JSON.parse(localStorage.getItem('save'));if(!d)return;Object.assign({bots,perClick,autoBots,megaClick,clickCost,autoCost,megaCost,milestone,achievements},d);const diff=Math.floor((Date.now()-d.time)/1000);const earned=diff*autoBots;if(earned>0){bots+=earned;el('offlineText').textContent=`You earned ${earned} Bots while away!`;el('offlineModal').style.display='flex'}}
load();updateUI();

// REWARDED AD
function watchAd(){if(cg)cg.showRewardedAd({onReward:()=>{bots+=1000;updateUI()}})}
</script>
</body>
</html>

/* =========================
   JUICE SYSTEMS (FINAL POLISH)
   ========================= */

// Screen shake
let shakeTime = 0;
function screenShake(intensity = 6, duration = 150) {
  shakeTime = duration;
  const start = Date.now();
  const interval = setInterval(() => {
    const elapsed = Date.now() - start;
    if (elapsed > duration) {
      document.body.style.transform = "";
      clearInterval(interval);
      return;
    }
    const x = (Math.random() - 0.5) * intensity;
    const y = (Math.random() - 0.5) * intensity;
    document.body.style.transform = `translate(${x}px, ${y}px)`;
  }, 16);
}

// Click flash + pop
function clickJuice(el) {
  el.classList.add('click-pop');
  setTimeout(() => el.classList.remove('click-pop'), 120);
}

// Coin burst
function spawnCoins(x, y, amount = 6) {
  for (let i = 0; i < amount; i++) {
    const coin = document.createElement('div');
    coin.className = 'coin';
    coin.style.left = x + 'px';
    coin.style.top = y + 'px';
    document.body.appendChild(coin);

    const target = document.getElementById('money');
    const rect = target.getBoundingClientRect();

    const tx = rect.left + rect.width / 2;
    const ty = rect.top + rect.height / 2;

    coin.animate([
      { transform: 'translate(0,0) scale(1)', opacity: 1 },
      { transform: `translate(${tx - x}px, ${ty - y}px) scale(0.3)`, opacity: 0 }
    ], { duration: 600, easing: 'cubic-bezier(.2,.8,.2,1)' });

    setTimeout(() => coin.remove(), 600);
  }
}

// Achievement toast
function showToast(text) {
  const toast = document.createElement('div');
  toast.className = 'toast';
  toast.innerText = text;
  document.body.appendChild(toast);
  setTimeout(() => toast.classList.add('show'), 50);
  setTimeout(() => toast.remove(), 3000);
}

// Milestone celebration
function milestoneCelebrate(text) {
  screenShake(10, 300);
  const overlay = document.createElement('div');
  overlay.className = 'milestone';
  overlay.innerText = text;
  document.body.appendChild(overlay);
  setTimeout(() => overlay.remove(), 2000);
}

/* =========================
   CLICK HANDLER
   ========================= */

robot.addEventListener('click', (e) => {
  if (paused) return;
  bots += clickPower;
  clickJuice(robot);
  spawnCoins(e.clientX, e.clientY);
  screenShake(2, 80);
  updateUI();
});

/* =========================
   REBIRTH JUICE
   ========================= */
function rebirth() {
  screenShake(14, 400);
  milestoneCelebrate('REBIRTH!');
  bots = 0;
  rebirths++;
  updateUI();
}

/* =========================
   DAILY REWARD POP
   ========================= */
function dailyReward() {
  bots += 500;
  showToast('Daily Reward Claimed! +500 Bots');
  updateUI();
}

/* =========================
   CSS JUICE (APPEND TO STYLE)
   ========================= */

const style = document.createElement('style');
style.innerHTML = `
.click-pop { animation: pop 0.12s ease-out; }
@keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
.coin { position: fixed; width: 12px; height: 12px; background: gold; border-radius: 50%; pointer-events: none; z-index: 9999; }
.toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) scale(0.8); background: #222; color: #fff; padding: 12px 20px; border-radius: 12px; opacity: 0; transition: all .3s; z-index: 9999; }
.toast.show { opacity: 1; transform: translateX(-50%) scale(1); }
.milestone { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: 900; background: rgba(0,0,0,0.6); color: #fff; z-index: 9998; animation: fade 2s; }
@keyframes fade { from { opacity: 1; } to { opacity: 0; } }
`;
document.head.appendChild(style);

